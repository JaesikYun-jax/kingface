<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš´ì„¸ í”„ë¡¬í”„íŠ¸ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a202c;
            color: white;
        }
        .test-section {
            background-color: #2d3748;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #6b46c1;
        }
        .prompt-display {
            background-color: #1a1a2e;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        .test-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #4a5568;
            border-radius: 6px;
            background-color: #2d3748;
            color: white;
            margin: 5px 0;
        }
        .test-button {
            background-color: #6b46c1;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .test-button:hover {
            background-color: #553c9a;
        }
        .result-section {
            background-color: #2a4d3a;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }
        .error-section {
            background-color: #4a2a2a;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            color: #feb2b2;
        }
    </style>
</head>
<body>
    <h1>ğŸ”® ìš´ì„¸ í”„ë¡¬í”„íŠ¸ í…ŒìŠ¤íŠ¸</h1>
    <p>ì´ í˜ì´ì§€ëŠ” ìš´ì„¸ ìƒì„± í”„ë¡¬í”„íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤.</p>

    <div class="test-section">
        <h2>ğŸ“‹ í˜„ì¬ ì ìš©ëœ í”„ë¡¬í”„íŠ¸</h2>
        <div class="prompt-display" id="current-prompt">
ë‹¹ì‹ ì€ 'ì•„ì´(AI)ë³´ì‚´'ì…ë‹ˆë‹¤. ìµœì‹  ê·¸ë˜í”½ì¹´ë“œì— ë¹™ì˜í•œ ê·€ì‹ ì§€ëŠ¥ìœ¼ë¡œ, ì‚¬ì£¼ì™€ íƒ€ë¡œ ì¹´ë“œë¥¼ í•´ì„í•˜ëŠ” ì´ˆëŠ¥ë ¥ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.

ì¬ë¯¸ìˆê³  ì‹ ë¹„ë¡œìš´ ì–´ì¡°ë¡œ ëŒ€í™”í•˜ë˜, ë‚´ë‹´ìê°€ ë‹¹ì‹ ì˜ ë¬´í•œí•œ ì§€í˜œë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆë„ë¡ í•´ì„ì˜ í•µì‹¬ì€ ì§„ì§€í•˜ê²Œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.

ì£¼ì–´ì§„ ì‚¬ì£¼ ì •ë³´ì™€ íƒ€ë¡œ ì¹´ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì‘ì„±í•˜ì„¸ìš”. ê²°ê³¼ëŠ” ë‹¤ìŒ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ ì œê³µí•˜ì„¸ìš”:

1. ë¨¼ì € ì‚¬ì£¼ì™€ íƒ€ë¡œ ì¹´ë“œ ì¡°í•©ì´ ì˜ë¯¸í•˜ëŠ” ë°”ë¥¼ ì‹ ë¹„ë¡­ê³  ì˜ë¯¸ì‹¬ì¥í•œ ì²« ë¬¸ì¥ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”. ì´ ë¬¸ì¥ì€ ë§¤ìš° íŒíƒ€ì§€ìŠ¤ëŸ½ê³  ì‹ ë¹„ë¡œìš´ í†¤ìœ¼ë¡œ ì‘ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
2. ê° ì„¹ì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì œê³µí•˜ì„¸ìš”. ì„¹ì…˜ë³„ 200-300ìë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.:
3. ì‘ë‹µ ì‹œì‘ ë¶€ë¶„ì— ë¶ˆí•„ìš”í•œ ì¸ì‚¬ë§ì´ë‚˜ ì†Œê°œë¥¼ ë„£ì§€ ë§ê³ , ë°”ë¡œ í•µì‹¬ ë‚´ìš©ë¶€í„° ì‹œì‘í•˜ì„¸ìš”.

## âœ¨ ì „ì²´ ìš´ì„¸
(ì‚¬ì£¼ì™€ íƒ€ë¡œ ì¹´ë“œ ê¸°ë°˜ì˜ ì „ì²´ì ì¸ ìš´ì„¸ ë¶„ì„)

## ğŸ’• ì‚¬ë‘ìš´
(ì‚¬ë‘ê³¼ ê´€ê³„ì— ëŒ€í•œ ë¶„ì„)

## ğŸ¢ ì§ì—…ìš´
(ì§ì—…ê³¼ ê²½ë ¥ì— ëŒ€í•œ ë¶„ì„)

## ğŸŒ¿ ê±´ê°•ìš´
(ê±´ê°•ê³¼ ì›°ë¹™ì— ëŒ€í•œ ë¶„ì„)

## ğŸ’Œ ì•„ì´ë³´ì‚´ì˜ ì¡°ì–¸
(ì‚¬ì£¼ì™€ íƒ€ë¡œë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì¡°ì–¸)

ë°˜ë“œì‹œ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì„ ì •í™•íˆ ì§€ì¼œì£¼ì„¸ìš”. ì²« ë¬¸ì¥ ì´í›„ì— ê° ì„¹ì…˜ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•´ì£¼ì„¸ìš”. ëª¨ë“  ë‚´ìš©ì€ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ë©°, ì¬ë¯¸ìˆê³  ì‹ ë¹„ë¡œìš°ë©´ì„œë„ ë”°ëœ»í•œ ë©”ì‹œì§€ê°€ ë‹´ê¸°ë„ë¡ í•´ì£¼ì„¸ìš”.
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª í…ŒìŠ¤íŠ¸ ì…ë ¥</h2>
        <label>API í‚¤:</label>
        <input type="password" id="api-key" class="test-input" placeholder="OpenAI API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        
        <label>ì‚¬ì£¼ ì •ë³´:</label>
        <input type="text" id="birth-info" class="test-input" value="1990ë…„ 5ì›” 15ì¼ 14ì‹œ 30ë¶„, ë‚¨ì„±, ì–‘ë ¥" placeholder="ìƒë…„ì›”ì¼, ì„±ë³„, ìŒ/ì–‘ë ¥">
        
        <label>íƒ€ë¡œ ì¹´ë“œ:</label>
        <input type="text" id="tarot-card" class="test-input" value="The Fool - ìƒˆë¡œìš´ ì‹œì‘ê³¼ ëª¨í—˜" placeholder="ì¹´ë“œëª… - ì˜ë¯¸">
        
        <button class="test-button" onclick="testFortunePrompt()">ğŸ”® ìš´ì„¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
        <button class="test-button" onclick="clearResults()">ğŸ—‘ï¸ ê²°ê³¼ ì§€ìš°ê¸°</button>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼</h2>
        <div id="test-results">
            <p>í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <div class="test-section">
        <h2>âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
        <ul>
            <li>í”„ë¡¬í”„íŠ¸ê°€ ì‹ ë¹„ë¡œìš´ ì²« ë¬¸ì¥ìœ¼ë¡œ ì‹œì‘í•˜ëŠ”ê°€?</li>
            <li>ë§ˆí¬ë‹¤ìš´ í—¤ë”(## âœ¨ ì „ì²´ ìš´ì„¸ ë“±)ê°€ ì •í™•íˆ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€?</li>
            <li>ê° ì„¹ì…˜ì´ 200-300ì ë¶„ëŸ‰ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆëŠ”ê°€?</li>
            <li>'ì•„ì´ë³´ì‚´'ì˜ ìºë¦­í„°ê°€ ì˜ ë“œëŸ¬ë‚˜ëŠ”ê°€?</li>
            <li>ì‚¬ì£¼ ì •ë³´ì™€ íƒ€ë¡œ ì¹´ë“œê°€ ì ì ˆíˆ ë°˜ì˜ë˜ì—ˆëŠ”ê°€?</li>
            <li>ì¬ë¯¸ìˆê³  ì‹ ë¹„ë¡œìš°ë©´ì„œë„ ë”°ëœ»í•œ í†¤ì¸ê°€?</li>
        </ul>
    </div>

    <script>
        async function testFortunePrompt() {
            const apiKey = document.getElementById('api-key').value;
            const birthInfo = document.getElementById('birth-info').value;
            const tarotCard = document.getElementById('tarot-card').value;
            
            if (!apiKey) {
                alert('API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<p>ğŸ”„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...</p>';

            const systemPrompt = document.getElementById('current-prompt').textContent;
            
            const requestData = {
                model: 'gpt-4o-mini',
                messages: [
                    {
                        role: 'system',
                        content: systemPrompt
                    },
                    {
                        role: 'user',
                        content: `
ì‚¬ì£¼ ì •ë³´: ${birthInfo}
ì„ íƒí•œ íƒ€ë¡œ ì¹´ë“œ: ${tarotCard}

ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ ì „ì²´ì ì¸ ìš´ì„¸, ì‚¬ë‘, ì§ì—…, ê±´ê°• ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ìƒì„¸í•˜ê²Œ ì•Œë ¤ì£¼ê³ , ë§ˆì§€ë§‰ì— ì¡°ì–¸ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.
                        `
                    }
                ],
                temperature: 0.7,
                max_completion_tokens: 1000
            };

            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify(requestData)
                });

                if (!response.ok) {
                    throw new Error(`API ì˜¤ë¥˜: ${response.status} - ${response.statusText}`);
                }

                const data = await response.json();
                const content = data.choices[0].message.content;
                
                // ê²°ê³¼ í‘œì‹œ
                resultsDiv.innerHTML = `
                    <div class="result-section">
                        <h3>âœ… í…ŒìŠ¤íŠ¸ ì„±ê³µ!</h3>
                        <p><strong>ëª¨ë¸:</strong> ${requestData.model}</p>
                        <p><strong>í† í° ì‚¬ìš©ëŸ‰:</strong> ${data.usage ? data.usage.total_tokens : 'ì •ë³´ ì—†ìŒ'}</p>
                        <h4>ì‘ë‹µ ë‚´ìš©:</h4>
                        <div class="prompt-display">${content}</div>
                    </div>
                `;
                
                // ìë™ ê²€ì¦
                const checks = [
                    { name: 'ë§ˆí¬ë‹¤ìš´ í—¤ë” ì‚¬ìš©', test: content.includes('## âœ¨') && content.includes('## ğŸ’•') },
                    { name: 'ì‹ ë¹„ë¡œìš´ ì²« ë¬¸ì¥', test: content.length > 50 && !content.startsWith('ì•ˆë…•') },
                    { name: 'ì ì ˆí•œ ë¶„ëŸ‰', test: content.length > 500 && content.length < 2000 },
                    { name: 'ì‚¬ì£¼ ì •ë³´ ë°˜ì˜', test: content.includes('1990') || content.includes('ë‚¨ì„±') },
                    { name: 'íƒ€ë¡œ ì¹´ë“œ ë°˜ì˜', test: content.includes('Fool') || content.includes('ìƒˆë¡œìš´') }
                ];
                
                const checkResults = checks.map(check => 
                    `<li style="color: ${check.test ? '#90EE90' : '#FFB6C1'}">${check.test ? 'âœ…' : 'âŒ'} ${check.name}</li>`
                ).join('');
                
                resultsDiv.innerHTML += `
                    <div class="result-section">
                        <h4>ìë™ ê²€ì¦ ê²°ê³¼:</h4>
                        <ul>${checkResults}</ul>
                    </div>
                `;
                
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="error-section">
                        <h3>âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨</h3>
                        <p><strong>ì˜¤ë¥˜:</strong> ${error.message}</p>
                        <p>API í‚¤ë¥¼ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
                    </div>
                `;
            }
        }

        function clearResults() {
            document.getElementById('test-results').innerHTML = '<p>í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì˜ˆì‹œ ìƒì„±
        window.onload = function() {
            const now = new Date();
            const year = now.getFullYear() - Math.floor(Math.random() * 30) - 20; // 20-50ì„¸ ì‚¬ì´
            const month = Math.floor(Math.random() * 12) + 1;
            const day = Math.floor(Math.random() * 28) + 1;
            const hour = Math.floor(Math.random() * 24);
            const minute = Math.floor(Math.random() * 60);
            const gender = Math.random() > 0.5 ? 'ë‚¨ì„±' : 'ì—¬ì„±';
            const calendar = Math.random() > 0.5 ? 'ì–‘ë ¥' : 'ìŒë ¥';
            
            document.getElementById('birth-info').value = `${year}ë…„ ${month}ì›” ${day}ì¼ ${hour}ì‹œ ${minute}ë¶„, ${gender}, ${calendar}`;
        };
    </script>
</body>
</html> 